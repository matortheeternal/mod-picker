<loader data="mod_list.mods && !retrieving.mods" spinner-class="big-spinner">
    <div class="tab-bar-items">
        <div class="tab-bar-item primary-item">
            <span><strong>{{notes.unresolved_compatibility.length + notes.unresolved_install_order.length}}</strong> Unresolved Issues</span>
            <span><strong>{{notes.ignored_compatibility.length + notes.ignored_install_order.length}}</strong> Ignored Issues</span>
            <span><strong>{{required.missing_mods.length}}</strong> Missing Requirements</span>
        </div>

        <div class="tab-bar-item" ng-if="editing">
            <strong>Add a mod:</strong>
            <search-input search-function="searchMods" result-id="add.mod.id" search-text="add.mod.name" on-change="addMod(add.mod.id)" label="mod" key="name"></search-input>
        </div>
    </div>

    <div class="content-block">
        <div class="content-title">Mods
            <span class="right-item action-box" ng-if="editing" ng-click="addGroup('mods')">
                <i class="fa fa-plus"></i> New Group
            </span>
        </div>
        <div class="content-container">
            <grid-items type="mod" label="mods" model="model.mods" editing="editing"></grid-items>
        </div>
    </div>

<required-mods></required-mods>

<mod-compatibility-issues></mod-compatibility-issues>


    <div class="content-block">
        <div class="content-title">Install Order Issues
            <span class="note-item">
                ({{show.unresolved_install_order ? 'Unresolved' : 'All'}})
            </span>
            <span class="right-item toggle-item" ng-click="show.unresolved_install_order = !show.unresolved_install_order">
                {{show.unresolved_install_order ? 'Show All' : 'Show Unresolved Issues'}}
            </span>
        </div>
        <div class="content-container">
            <div ng-if="show.unresolved_install_order" ng-repeat="note in notes.unresolved_install_order" class="content-block">
                <install-order-note note="note" index="100 + $index" current-user="currentUser" show-resolution-options="editing"></install-order-note>
            </div>
            <div ng-show="show.unresolved_install_order && !notes.unresolved_install_order.length" class="content-message">
                No unresolved install order issues to display.
            </div>

            <div ng-if="!show.unresolved_install_order" ng-repeat="note in notes.install_order" class="content-block" ng-hide="note._destroy">
                <install-order-note note="note" index="500 + $index" current-user="currentUser" show-resolution-options="editing"></install-order-note>
            </div>
            <div ng-show="!show.unresolved_install_order && isEmpty(notes.install_order)" class="content-message">
                No install order issues to display.
            </div>
        </div>
    </div>

    <div class="action-button-container" ng-if="editing">
        <input class="btn action-btn" type="submit" value="Save" ng-click="saveChanges()"/>
        <input class="btn action-btn" type="button" value="Reset" ng-click="discardChanges()"/>
    </div>
</loader>