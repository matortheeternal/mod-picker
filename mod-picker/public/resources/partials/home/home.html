<two-columns>
    <div class="page-container">
        <div class="left-column wide-column home-left-column">
            <div class="recent-box box-shadow">
                <h3 class="section-title">Recent Mod Lists</h3>
                    <section ng-repeat="modlist in recent.mod_lists">
                        <a ng-href="#/modlist/{{modlist.id}}">
                            <div class="recent-thing">
                                <img ng-src="{{modlist.user.avatar}}">
                                <div>
                                    <div class="recent-title">{{modlist.name}}</div>
                                    <div> by {{modlist.user.username}}</div>
                                    <div> {{modlist.mods_count | number}} mods, {{modlist.plugins_count | number}} plugins</div>
                                    <div> Completed on {{modlist.completed | date}}</div> <!--TODO: needs data for last update date -->
                                </div>
                            </div>
                        </a>
                    </section>
                    <a href="#/modlists" class="explanation">Browse All</a> <!--TODO: link to search sorting by recent using params -->
            </div>

            <div class="recent-box box-shadow">
                <h3 class="section-title">Recent Mods</h3>
                    <!-- TODO: make this into a directive -->
                    <section ng-repeat="mod in recent.mods">
                        <a ng-href="#/mod/{{mod.id}}">
                            <div class="recent-thing">
                                <img ng-src="{{mod.image}}">
                                <div>
                                    <div class="recent-title">{{mod.name}}</div>
                                    <div>by
                                        <span class="author">{{mod.authors}}</span>
                                        <!--<span class="author" ng-repeat="author in mod.authors">
                                            <span ng-if="!$first">,<span ng-if="$last"> and</span> </span>
                                            {{author.username}}</span>-->
                                     </div>
                                    <div>Released {{mod.released | date}}</div>
                                    <div>{{mod.primary_category.name}}</div>
                                </div>
                            </div>
                        </a>
                    </section>
                    <a href="#/mods" class="explanation">Browse All</a> <!--TODO: link to search sorting by recent using params -->
            </div>
        </div>
        <div class="right-column home-right-column">
            <div class="articles box-shadow">
                <h3 class="section-title">Site News</h3>
                <div class="news-box" ng-repeat="article in articles" ng-init="article.reduced_text = reduceText(article.text_body); article.expandable = (wordCount(article.text_body) > 50)">
                    <h3 class="section-title">{{article.title}}</h3>
                    <span class="article-details">by {{article.submitter.username}} on {{article.submitted | date}}</span>
                    <section marked="article.expanded ? article.text_body : article.reduced_text" ng-class="news">
                    </section>
                    <a ng-if="article.expandable" ng-click="article.expanded = !article.expanded">Show {{article.expanded ? 'Less' : 'More'}}</a>
                </div>
                <div class="load-older-posts">
                    <a href="#/news/">See All News Posts</a>
                </div>
            </div>
            <div class="recent-notes-tabs">
                <h3 class="section-title">Recent Contributions</h3>
                <tabs tabs="tabs"></tabs>
                <div class="recent-contributions-tab box-shadow">
                    <ui-view></ui-view>
                </div>
            </div>
        </div>
    </div>
</two-columns>
