<loader data="mod.plugins" content-class="" spinner-class="big-spinner">
    <div class="mod-tab-items" ng-if="mod.plugins.length > 0">
        <div class="mod-tab-item primary-item">
            <strong>Select Plugin:</strong>
            <select ng-model="currentPluginFilename" class="plugin-selector" ng-change="selectPlugin()">
                <option ng-repeat="plugin in mod.plugins">{{plugin.filename}}</option>
            </select>
        </div>
    </div>

    <div class="content-block" ng-if="currentPlugin">
        <div class="content-title">
            Plugin Metadata
        </div>

        <div class="content-container">
            <plugin-metadata plugin="currentPlugin"></plugin-metadata>
        </div>
    </div>

    <div class="content-block" ng-if="currentPlugin && currentPlugin.plugin_record_groups.length > 0">
        <div class="content-title">
            Plugin Composition
        </div>

        <div class="content-container analysis-container">
            <table class="analysis-table">
                <thead>
                <tr>
                    <th>Group</th>
                    <th>Record Count</th>
                    <th>Override Count</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="group in currentPlugin.plugin_record_groups">
                    <td>{{group.sig}} - {{group.name}}</td>
                    <td>{{group.record_count}}</td>
                    <td>{{group.override_count}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="content-block" ng-if="currentPlugin && currentPlugin.plugin_errors.length > 0">
        <div class="content-title">
            Plugin Errors
        </div>

        <div class="content-container analysis-container">
            <table class="analysis-table">
                <thead>
                <tr>
                    <th>Signature</th>
                    <th>FormID</th>
                    <th>Type</th>
                    <th>Name</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="error in currentPlugin.plugin_errors">
                    <td>{{error.signature}}</td>
                    <td>{{error.form_id}}</td>
                    <td>{{error.type}}</td>
                    <td>{{error.name}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="content-block" ng-if="currentPlugin && currentPlugin.overrides.length > 0">
        <div class="content-title">
            Plugin Override Records
        </div>

        <div class="content-container analysis-container">
            <div ng-repeat="master in currentPlugin.masters" ng-if="master.overrides.length > 0">
                <h3 class="section-title">{{master.filename}}</h3>
                <ul class="overrides-list">
                    <li ng-repeat="override in master.overrides">
                        [{{override.sig}}:{{override.fid | hex:8}}]
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <div class="content-block" ng-if="mod.assets.length > 0">
        <div class="content-title">
            Assets
        </div>

        <div class="content-container analysis-container">
            <asset-tree data="mod.nestedAssets"></asset-tree>
        </div>
    </div>

    <div class="no-content-message" ng-if="mod.assets.length == 0 && mod.plugins.length == 0">
        There is no analysis available for this mod.
    </div>
</loader>


