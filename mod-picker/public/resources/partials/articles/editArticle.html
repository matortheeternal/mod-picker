<messages></messages>

<div class="single-column">
    <form id="editArticleForm" name="editArticleForm" spellcheck="false">
        <h2>
            Edit Article: <a ng-href="article/{{article.id}}">"{{originalArticle.title}}"</a>
        </h2>

        <h3 class="section-title">Title</h3>
        <section>
            <input type="text" ng-model="article.title" />
        </section>

        <h3 class="section-title">
            Image
            <span class="help-tooltip" title="The image that will be shown along with the article.">
                <i class="fa fa-question-circle"></i>
            </span>
        </h3>
        <section>
            <image-upload image="image" can-change="true" default-src="defaultSrc" default-size="big" label="article image" image-class="mod-image" sizes="imageSizes"></image-upload>
        </section>

        <h3 class="section-title">
            Text
            <span class="help-tooltip" title="The markdown content of the article.">
                <i class="fa fa-question-circle"></i>
            </span>
        </h3>
        <section>
            <text-area class="note-text-area" data="article.text_body" ng-refresh="updateMDE"></text-area>
        </section>

        <h3 class="section-title">
            Delete Article
            <span class="help-tooltip" title="Check this and click save to permanently delete this article from the server.">
                <i class="fa fa-question-circle"></i>
            </span>
        </h3>
        <section>
            <label>
                <input type="checkbox" ng-model="delete" /> Permanently remove this article?
            </label>
        </section>

        <div class="action-button-container">
            <input class="btn action-btn" type="submit" ng-disabled='submitting || !articleValid()' ng-click="updateArticle()" value="Save Changes" />
        </div>
    </form>
</div>

<submission-modal></submission-modal>